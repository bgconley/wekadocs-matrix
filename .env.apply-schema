# Development environment configuration
# Updated for Phase 7C - Jina v4 @ 1024-D with ENV-selectable providers

ENV=development

# MCP Server
MCP_PORT=8000
LOG_LEVEL=INFO

# ============================================================================
# Phase 7C: Embedding Provider Configuration
# ============================================================================
# Provider selection (controlled via EMBEDDINGS_PROFILE; see config/embedding_profiles.yaml)
EMBEDDINGS_PROFILE=jina_v3
# Legacy overrides (discouraged). Leave aligned with the selected profile or comment them out entirely.
EMBEDDINGS_PROVIDER=jina-ai
EMBEDDINGS_MODEL=jina-embeddings-v3
EMBEDDINGS_DIM=1024
EMBEDDINGS_TASK=retrieval.passage
EMBEDDING_STRICT_MODE=true
# Namespace collections/indexes per profile by setting this to 'profile'
EMBEDDING_NAMESPACE_MODE=profile

# Rerank provider selection (jina-ai | noop | none)
RERANK_PROVIDER=jina-ai
RERANK_MODEL=jina-reranker-v2-base-multilingual

# Jina API credentials (required when using jina-ai provider)
JINA_API_KEY=__REPLACE_WITH_SECRET__  # pragma: allowlist secret

# BGE-M3 service configuration (set when switching EMBEDDINGS_PROFILE=bge_m3)
BGE_M3_API_URL=http://weka-bge-service:9000
BGE_M3_CLIENT_PATH=/Users/brennanconley/vibecode/bge-m3-custom/src

# Optional: Answer model name for session tracking
ANSWER_MODEL=search-result-formatting

# ============================================================================
# Database Connections
# ============================================================================

# Neo4j Configuration
NEO4J_URI=bolt://weka-neo4j:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=__REPLACE_WITH_SECRET__  # pragma: allowlist secret
NEO4J_HEAP_INITIAL=512m
NEO4J_HEAP_MAX=1G
NEO4J_PAGECACHE=512m

# Qdrant Configuration
QDRANT_HOST=weka-qdrant
QDRANT_PORT=6333
QDRANT_LOG_LEVEL=INFO

# Redis Configuration
REDIS_HOST=weka-redis
REDIS_PORT=6379
REDIS_PASSWORD=__REPLACE_WITH_SECRET__  # pragma: allowlist secret
REDIS_MAXMEMORY=256mb

# ============================================================================
# Authentication & Security
# ============================================================================

# JWT Authentication
JWT_SECRET=__REPLACE_WITH_SECRET__  # pragma: allowlist secret
JWT_ALGORITHM=HS256
JWT_EXPIRY_MINUTES=60

# ============================================================================
# Observability
# ============================================================================

# OpenTelemetry
OTEL_EXPORTER_OTLP_ENDPOINT=http://jaeger:4318
JAEGER_LOG_LEVEL=info

# ============================================================================
# Rate Limiting
# ============================================================================
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST_SIZE=10
