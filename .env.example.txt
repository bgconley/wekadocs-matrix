# Implements Phase 1, Task 1.1 (Docker environment setup)
# See: /docs/spec.md ยง6 (Security)
# Copy this to .env and fill in actual values

# Environment
ENV=development

# Optional: Override default config file path
# CONFIG_PATH=./config/custom.yaml

# MCP Server
MCP_PORT=8000
LOG_LEVEL=INFO

# Neo4j Configuration
NEO4J_USER=neo4j
NEO4J_PASSWORD=__REPLACE_WITH_SECRET__  # pragma: allowlist secret
NEO4J_HEAP_INITIAL=512m
NEO4J_HEAP_MAX=1G
NEO4J_PAGECACHE=512m

# Redis Configuration
REDIS_PASSWORD=__REPLACE_WITH_SECRET__  # pragma: allowlist secret
REDIS_MAXMEMORY=256mb

# Qdrant Configuration
QDRANT_LOG_LEVEL=INFO

# JWT Authentication
JWT_SECRET=__REPLACE_WITH_SECRET__  # pragma: allowlist secret
JWT_ALGORITHM=HS256
JWT_EXPIRY_MINUTES=60

# OpenTelemetry
# New Relic OTLP ingest (US)
NEW_RELIC_LICENSE_KEY=__REPLACE_WITH_SECRET__  # pragma: allowlist secret
OTEL_EXPORTER_OTLP_ENDPOINT=https://otlp.nr-data.net
OTEL_EXPORTER_OTLP_HEADERS=api-key=__REPLACE_WITH_SECRET__  # pragma: allowlist secret
OTEL_EXPORTER_OTLP_PROTOCOL=http/protobuf
OTEL_LOGS_EXPORTER=otlp
OTEL_TRACES_EXPORTER=otlp

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST_SIZE=10

# Embedding Configuration (referenced in config/development.yaml)
# EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
# EMBEDDING_DIMS=384

# Phase 7C: Provider Configuration
# Embedding provider selection (jina-ai, ollama, sentence-transformers)
EMBEDDINGS_PROFILE=jina_v3
EMBEDDINGS_PROVIDER=jina-ai
EMBEDDINGS_MODEL=jina-embeddings-v3
EMBEDDINGS_DIM=1024
EMBEDDINGS_TASK=retrieval.passage

# Reranking provider selection (jina-ai, noop)
RERANK_PROVIDER=jina-ai
RERANK_MODEL=jina-reranker-v2-base-multilingual

# Jina AI API Key (required when using jina-ai provider)
JINA_API_KEY=__REPLACE_WITH_SECRET__  # pragma: allowlist secret

# BGE-M3 service configuration (used when EMBEDDINGS_PROVIDER=bge-m3-service)
BGE_M3_API_URL=http://127.0.0.1:9000
BGE_M3_CLIENT_PATH=/Users/brennanconley/vibecode/bge-m3-custom/src

# Budget Controls (Phase 7C)
DAILY_BUDGET_USD=50
MONTHLY_BUDGET_USD=100
BUDGET_ALERT_THRESHOLD=0.8

# Feature Flags (Phase 7C)
DUAL_WRITE_1024D=false
SESSION_TRACKING_ENABLED=false
ENTITY_FOCUS_BIAS=false

# Phase 6: Auto-Ingestion Service
INGESTION_SERVICE_HOST=0.0.0.0
INGESTION_SERVICE_PORT=9108

# Ingestion watch paths (configured in config/development.yaml)
# INGEST_WATCH_PATH=./ingest/watch

# Back-pressure thresholds (can override config values)
# INGEST_NEO4J_CPU_THRESHOLD=0.8
# INGEST_QDRANT_P95_THRESHOLD_MS=200.0
