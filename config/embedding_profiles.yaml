plan:
  dense: "snowflake_arctic_v2l"
  sparse: "bge_m3"
  colbert: "bge_m3"
  enable_sparse: true
  enable_colbert: true

profiles:
  jina_v3:
    description: "Jina Embeddings v3 (1024-D, multilingual, normalized)."
    provider: "jina-ai"
    model_id: "jina-embeddings-v3"
    version: "jina-embeddings-v3"
    dims: 1024
    similarity: "cosine"
    task: "retrieval.passage"
    tokenizer:
      backend: "hf"
      model_id: "jinaai/jina-embeddings-v3"
    capabilities:
      supports_dense: true
      supports_sparse: false
      supports_colbert: false
      supports_long_sequences: true
      normalized_output: true
      multilingual: true
    requirements:
      - "JINA_API_KEY"

  bge_m3:
    description: "BGE-M3 (multi-head: dense + sparse + ColBERT) served via custom BGEM3FlagModel service."
    provider: "bge-m3-service"
    model_id: "BAAI/bge-m3"
    version: "BAAI/bge-m3"
    dims: 1024
    similarity: "cosine"
    task: "symmetric"
    tokenizer:
      backend: "hf"
      model_id: "BAAI/bge-m3"
    capabilities:
      supports_dense: true
      supports_sparse: true
      supports_colbert: true
      supports_long_sequences: true
      normalized_output: true
      multilingual: true
    requirements:
      - "BGE_M3_API_URL"

  voyage_context_3:
    description: "Voyage contextualized chunk embeddings (dense only, contextual)."
    provider: "voyage-ai"
    model_id: "voyage-context-3"
    version: "voyage-context-3"
    dims: 1024
    similarity: "cosine"
    task: "retrieval.passage"
    query_task: "query"
    document_task: "document"
    output_dimension: 1024
    output_dtype: "float"
    tokenizer:
      backend: "hf"
      model_id: "voyageai/voyage-context-3"
    token_counting:
      backend: "voyage"
      model_id: "voyage-context-3"
    supports_contextualized_chunks: true
    contextual_limits:
      max_inputs: 1000
      max_total_tokens: 120000
      max_total_chunks: 16000
      context_window_tokens: 32000
    capabilities:
      supports_dense: true
      supports_sparse: false
      supports_colbert: false
      supports_long_sequences: true
      normalized_output: true
      multilingual: true
    requirements:
      - "VOYAGE_API_KEY"

  snowflake_arctic_v2l:
    description: "Snowflake Arctic Embed L v2.0 (dense only; used for Chonkie boundaries)."
    provider: "snowflake-arctic-service"
    model_id: "Snowflake/snowflake-arctic-embed-l-v2.0"
    version: "snowflake-arctic-embed-l-v2.0"
    dims: 1024
    similarity: "cosine"
    task: "retrieval.passage"
    query_task: "query"
    document_task: "document"
    output_dimension: 1024
    output_dtype: "float"
    tokenizer:
      backend: "hf"
      model_id: "Snowflake/snowflake-arctic-embed-l-v2.0"
    capabilities:
      supports_dense: true
      supports_sparse: false
      supports_colbert: false
      supports_long_sequences: true
      normalized_output: true
      multilingual: true
    requirements:
      - "CHONKIE_EMBEDDINGS_BASE_URL"

  voyage_3_large:
    description: "Voyage 3 Large (dense only). Placeholder - verify dims/model id."
    provider: "voyage-ai"
    model_id: "voyage-3-large"
    version: "voyage-3-large"
    dims: 1024
    similarity: "cosine"
    task: "retrieval.passage"
    tokenizer:
      backend: "hf"
      model_id: "voyageai/voyage-3-large"
    token_counting:
      backend: "voyage"
      model_id: "voyage-3-large"
    capabilities:
      supports_dense: true
      supports_sparse: false
      supports_colbert: false
      supports_long_sequences: true
      normalized_output: true
      multilingual: true
    requirements:
      - "VOYAGE_API_KEY"

  snowflake_arctic_l_v2_0:
    description: "Snowflake Arctic L v2.0 (dense only). Placeholder - verify dims/model id."
    provider: "sentence-transformers"
    model_id: "snowflake-arctic-l-v2.0"
    version: "snowflake-arctic-l-v2.0"
    dims: 1024
    similarity: "cosine"
    task: "retrieval.passage"
    tokenizer:
      backend: "hf"
      model_id: "snowflake-arctic-l-v2.0"
    token_counting:
      backend: "hf"
      model_id: "snowflake-arctic-l-v2.0"
    capabilities:
      supports_dense: true
      supports_sparse: false
      supports_colbert: false
      supports_long_sequences: true
      normalized_output: true
      multilingual: true
    requirements: []

  st_minilm:
    description: "SentenceTransformers MiniLM (384-D, fast baseline)."
    provider: "sentence-transformers"
    model_id: "all-MiniLM-L6-v2"
    version: "all-MiniLM-L6-v2"
    dims: 384
    similarity: "cosine"
    task: "retrieval.passage"
    tokenizer:
      backend: "hf"
      model_id: "sentence-transformers/all-MiniLM-L6-v2"
    capabilities:
      supports_dense: true
      supports_sparse: false
      supports_colbert: false
      supports_long_sequences: false
      normalized_output: false
      multilingual: false
    requirements: []
